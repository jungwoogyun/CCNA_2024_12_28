# VLAN

|-|
|-|
|[참고-VLAN기본](https://blog.naver.com/sknbiz070/223078073604)|
|[참고-NativeVLAN](https://bignet.tistory.com/22)|
|[참고-Inter VLAN](https://galid1.tistory.com/136)|
|[참고-VTP](https://light-touch-fish.tistory.com/19)|
|[참고-DTP](https://byeong9935.tistory.com/37)|


VLAN이란
---
```
  ㅇ 2계층(데이터링크 계층) 상에서, 논리적이고 유연한 망을 구성 가능케 하는, 가상 LAN
     - 물리적인 배선 구성에 제한을 받지 않음
        . 네트워크내 구성 단말의 추가,삭제,변경 용이
        . 물리적으로 떨어져있는 노드들을 자유롭게 그룹 단위로 묶을 수 있음
```

VLAN 설정 방식
---

```
ㅇ 다수의 포트들을 갖는 스위치에 VLAN을 설정한다는 것은?
     - 통상의 스위치들 그 자체 만으로는 브로드캐스트 도메인을 나누지 못하지만, 
     - VLAN 설정을 통해서, 다수의 스위치들의 포트들을 여러 그룹으로 나누고 묶을 수 있음

  ㅇ 즉, 각 VLAN별로 브로드캐스트 도메인을 융통적으로 설정되게 함 
     - 즉, 하나의 VLAN = 하나의 논리적인 브로드캐스트 도메인 = 하나의 논리적 네트워크 
                       = IP 서브넷(Subnet) = 하나의 VLAN ID
 ㅇ 이로써, 1 이상 다수의 스위치로, 복수의 가상 LAN들을 다룰 수 있게 됨
```

VLAN 별로 여러 스위치들을 조정(설정,할당)하는 방식
---
```
  ㅇ 정적 VLAN (포트별로 수동 할당)
     - VLAN 할당을 관리자가 각 스위치에서 직접 할당
        . 스위치 각 포트들을 원하는 VLAN으로 직접 설정하게됨

     * 해당 VLAN 프레임을 처리해야 하는 모든 스위치 마다 설정 필요

  ㅇ 동적 VLAN (MAC 주소별로 자동 할당)
     - VLAN 할당이 동적으로 자동화 이루어짐 
        . MAC 주소 등을 보고서, 관리 서버로부터 VLAN이 할당되어 자동으로 설정됨

     * MAC 주소와 VLAN ID 간의 매핑 테이블 관리가 필요하여 관리 서버 필요
```


VLAN 별로 멤버쉽/그룹핑 (Membership) 하는 방식
---
```
  ㅇ (물리적,수동적 구분 방식)
     - 물리적인 포트에 의한 (Port-based) VLAN
        . 1계층 물리계층에서 포트 단위로 만, 단말의 멤버쉽 구분 관리
           .. VLAN 수 만큼, 포트,케이블들을 따로따로 준비해야 함

  ㅇ (논리적,능동적 구분 방식)
     - MAC 주소에 의한 VLAN
        . 2계층 (데이타링크계층)의 MAC 주소에 의해, 단말의 멤버쉽 구분 관리
     - IP 주소에 의한 VLAN
        . 3계층 (망계층)의 IP 주소에 의해, 단말의 멤버쉽 구분 관리
           .. 하나의 스위치 상에서도 여러 논리적 IP 서브 네트워크 구분 가능
     - 프로토콜에 의한 VLAN (Protocol based VLAN)
        . 1~3계층 기능들을 모두 사용하여, 단말의 멤버쉽 구분 관리
           .. 프로토콜 종류 뿐만 아니라, MAC 주소나 포트번호 모두 사용
```

VLAN 지원장비, 식별, 포트, 연결, 태그
---
```
  ㅇ VLAN 지원 장비  :  LAN 스위치

  ㅇ VLAN 식별  :  VLAN ID (VLAN별로 식별하는 식별자)
     - VLAN의 수  :  일반 (1 ~ 1,005), 확장 (1005 ~ 4,094)
        . 통상, VLAN 번호 1 (디폴트), 1002~1005는 예약됨    ☞ VLAN ID 참조

  ㅇ VLAN 포트 구분
     - 엑세스 포트 (Access Port) : 일반 단말이 사용하는 포트
     - 트렁크 포트 (Trunk Port)  : 스위치 간 트렁크 역할을 위한 포트

  ㅇ VLAN 연결
     - 스위치 간에는, 집합된 전용의 트렁크 포트 및 케이블을 통해 연결됨
     - 한편, 서로 다른 VLAN 간 상호 통신을 위해서는, 라우터 필요

  ㅇ VLAN 간 프레임 전달용 (스위칭 역할을 하는) 태그(태깅)  :  VLAN 태그 (VLAN Tagging)
     - 스위치 간 프레임 전달시, MAC 헤더에, 어느 VLAN인가를 알려주는 VLAN 태그를 붙여줌 
        . 표준 규격 : 802.1Q, 비표준 : ISL
```

VLAN 특징
---
```
ㅇ 네트워크 구성변경에 유연함
     - 하나의 물리적 세그먼트를 다수의 논리적 세그먼트로 분리 운용 가능
        . 즉, 특정 노드의 다른 세그먼트로의 이동 시,
           .. 물리적 변경 대신에 소프트웨어적으로 간단히 재배치 가능
        . 부서별, 용도별, 그룹별로 VLAN을 각각 구분 가능
     - VLAN은 LAN을 크게 확장시킴
        . 마치 여러 개의 LAN으로 보이도록 분할시키는 유연성을 줌
     - 여러 개의 LAN 스위치 장비에 걸쳐 VLAN 구현
        . 스위치로 구성된 네트워크에서 사용하는 주요 기술
```
<img src=http://ktword.co.kr/img_data/2022_1.jpg />

```
 ㅇ 라우터 없이도, 스위치 만으로 브로드캐스트 도메인을 분할 가능
     - 하나의 VLAN = 하나의 논리적인 브로드캐스트 도메인 = 하나의 작은 네트워크
     - 단, VLAN 간에 서로 통신을 하려면, 라우터 또는 L3 스위치가 필요함

  ㅇ 더 작은 LAN으로 세분화시켜 과부하 감소 가능
     - 효율적으로 대역폭 활용, Load Balancing 효과, 브로드캐스트 제어
     - 여러 다양한 트래픽을 용도에 따라 나눌 수 있음     ☞ 802.1p 참조

  ㅇ 보안성 및 안정성 강화
     - 임의 세그먼트로의 접속을 제한할 수 있음 
     - 문제 발생 요소의 확산을 방지하고 고립시킴

```
